{"version":3,"file":"request.logger.js","sourceRoot":"/","sources":["src/middleware/request.logger.ts"],"names":[],"mappings":";;;AACA,2CAA6C;AAE7C,MAAM,OAAO,GAAG,IAAA,4BAAe,EAAC,iBAAiB,CAAC,CAAC;AAC5C,MAAM,gBAAgB,GAAG,KAAK,EACnC,GAAY,EACZ,GAAa,EACb,IAAkB,EAClB,EAAE;IACF,OAAO,CAAC,GAAG,CAAC,GAAG,EAAE;QACf,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,GAAG,CAAC,WAAW,CAAC,CAAC;QAC5C,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,GAAG,CAAC,OAAO,CAAC,CAAC;QACpC,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;QAC5B,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;QAClC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,GAAG,CAAC,MAAM,CAAC,CAAC;QAClC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;QAC9B,OAAO,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;QAC1B,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC;QACtC,IAAI,EAAE,CAAC;IACT,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAhBW,QAAA,gBAAgB,oBAgB3B","sourcesContent":["import { Request, Response, NextFunction } from \"express\";\nimport { createNamespace } from \"cls-hooked\";\n\nconst session = createNamespace(\"request-session\");\nexport const loggerMiddleWare = async (\n  req: Request,\n  res: Response,\n  next: NextFunction\n) => {\n  session.run(() => {\n    session.set(\"originalUrl\", req.originalUrl);\n    session.set(\"baseUrl\", req.baseUrl);\n    session.set(\"url\", req.url);\n    session.set(\"params\", req.params);\n    session.set(\"method\", req.method);\n    session.set(\"body\", req.body);\n    session.set(\"ip\", req.ip);\n    session.set(\"hostname\", req.hostname);\n    next();\n  });\n};\n"]}